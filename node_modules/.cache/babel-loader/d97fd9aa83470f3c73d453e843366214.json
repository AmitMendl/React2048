{"ast":null,"code":"function Randint(num) {\n  return Math.floor(Math.random() * num);\n}\n\n_c = Randint;\n\nfunction getNewValue() {\n  return Math.random() < 0.9 ? 2 : 4;\n}\n\nfunction initMatrix(width, height) {\n  return new Array(width).fill(null).map(() => new Array(height).fill(null));\n}\n\nfunction generateNewTile(tiles_m) {\n  const [width, height] = [tiles_m[0].length, tiles_m.length];\n  let [x, y] = [Randint(width), Randint(height)];\n\n  while (tiles_m[y][x] != null) [x, y] = [Randint(width), Randint(height)]; // const [x, y] = [3, 0]\n\n\n  tiles_m[y][x] = getNewValue(); // tiles_m[y][x] = 2\n\n  return tiles_m;\n}\n\nfunction slideLeft(tiles_m) {\n  return tiles_m.map(row => {\n    let r = row.filter(val => {\n      return val != null;\n    });\n    const nr = new Array();\n\n    for (let i = 0; i < r.length; i++) {\n      if (r[i] == r[i + 1]) {\n        nr.push(r[i] * 2);\n        i++;\n      } else {\n        nr.push(r[i]);\n      }\n    }\n\n    while (nr.length < row.length) nr.push(null);\n\n    return nr;\n  });\n}\n\nexport { initMatrix, generateNewTile, slideLeft };\n\nvar _c;\n\n$RefreshReg$(_c, \"Randint\");","map":{"version":3,"sources":["/home/okbh/projects/reactprojects/React2048/src/Components/Grid/GridController.js"],"names":["Randint","num","Math","floor","random","getNewValue","initMatrix","width","height","Array","fill","map","generateNewTile","tiles_m","length","x","y","slideLeft","row","r","filter","val","nr","i","push"],"mappings":"AACA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBH,GAA3B,CAAP;AACH;;KAFQD,O;;AAIT,SAASK,WAAT,GAAuB;AACnB,SAAQH,IAAI,CAACE,MAAL,KAAgB,GAAhB,GAAsB,CAAtB,GAA0B,CAAlC;AACH;;AAED,SAASE,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AAC/B,SAAO,IAAIC,KAAJ,CAAUF,KAAV,EAAiBG,IAAjB,CAAsB,IAAtB,EAA4BC,GAA5B,CAAgC,MAAM,IAAIF,KAAJ,CAAUD,MAAV,EAAkBE,IAAlB,CAAuB,IAAvB,CAAtC,CAAP;AACH;;AAED,SAASE,eAAT,CAAyBC,OAAzB,EAAkC;AAC9B,QAAM,CAACN,KAAD,EAAQC,MAAR,IAAkB,CAACK,OAAO,CAAC,CAAD,CAAP,CAAWC,MAAZ,EAAoBD,OAAO,CAACC,MAA5B,CAAxB;AACA,MAAI,CAACC,CAAD,EAAIC,CAAJ,IAAS,CAAChB,OAAO,CAACO,KAAD,CAAR,EAAiBP,OAAO,CAACQ,MAAD,CAAxB,CAAb;;AACA,SAAMK,OAAO,CAACG,CAAD,CAAP,CAAWD,CAAX,KAAiB,IAAvB,EAA6B,CAACA,CAAD,EAAIC,CAAJ,IAAS,CAAChB,OAAO,CAACO,KAAD,CAAR,EAAiBP,OAAO,CAACQ,MAAD,CAAxB,CAAT,CAHC,CAI9B;;;AACAK,EAAAA,OAAO,CAACG,CAAD,CAAP,CAAWD,CAAX,IAAgBV,WAAW,EAA3B,CAL8B,CAM9B;;AACA,SAAOQ,OAAP;AACH;;AAED,SAASI,SAAT,CAAmBJ,OAAnB,EAA4B;AACxB,SAAOA,OAAO,CAACF,GAAR,CAAaO,GAAD,IAAS;AACxB,QAAIC,CAAC,GAAGD,GAAG,CAACE,MAAJ,CAAYC,GAAD,IAAS;AACxB,aAAOA,GAAG,IAAI,IAAd;AACH,KAFO,CAAR;AAGA,UAAMC,EAAE,GAAG,IAAIb,KAAJ,EAAX;;AACA,SAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,CAAC,CAACL,MAAtB,EAA8BS,CAAC,EAA/B,EACA;AACI,UAAGJ,CAAC,CAACI,CAAD,CAAD,IAAQJ,CAAC,CAACI,CAAC,GAAC,CAAH,CAAZ,EAAkB;AACdD,QAAAA,EAAE,CAACE,IAAH,CAAQL,CAAC,CAACI,CAAD,CAAD,GAAK,CAAb;AACAA,QAAAA,CAAC;AACJ,OAHD,MAIK;AACDD,QAAAA,EAAE,CAACE,IAAH,CAAQL,CAAC,CAACI,CAAD,CAAT;AACH;AACJ;;AACD,WAAOD,EAAE,CAACR,MAAH,GAAYI,GAAG,CAACJ,MAAvB,EAA+BQ,EAAE,CAACE,IAAH,CAAQ,IAAR;;AAC/B,WAAOF,EAAP;AACH,GAjBM,CAAP;AAkBH;;AAGD,SAAQhB,UAAR,EAAoBM,eAApB,EAAqCK,SAArC","sourcesContent":["\nfunction Randint(num) {\n    return Math.floor(Math.random() * num);\n}\n  \nfunction getNewValue() {\n    return (Math.random() < 0.9 ? 2 : 4)\n}\n\nfunction initMatrix(width, height) {\n    return new Array(width).fill(null).map(() => new Array(height).fill(null));\n}\n\nfunction generateNewTile(tiles_m) {\n    const [width, height] = [tiles_m[0].length, tiles_m.length]\n    let [x, y] = [Randint(width), Randint(height)]\n    while(tiles_m[y][x] != null) [x, y] = [Randint(width), Randint(height)]\n    // const [x, y] = [3, 0]\n    tiles_m[y][x] = getNewValue()\n    // tiles_m[y][x] = 2\n    return tiles_m\n}\n\nfunction slideLeft(tiles_m) {\n    return tiles_m.map((row) => {\n        let r = row.filter((val) => {\n            return val != null\n        })\n        const nr = new Array()\n        for (let i = 0; i < r.length; i++)\n        {\n            if(r[i] == r[i+1]){\n                nr.push(r[i]*2)\n                i++\n            }\n            else {\n                nr.push(r[i])\n            }\n        }\n        while (nr.length < row.length) nr.push(null);\n        return nr\n    })\n}\n\n\nexport {initMatrix, generateNewTile, slideLeft};"]},"metadata":{},"sourceType":"module"}